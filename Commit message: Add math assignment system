<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .assignment-card {
            transition: all 0.3s ease;
        }
        .assignment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .status-submitted {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        .status-pending {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        .status-overdue {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-full font-thai">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</h1>
            <p class="text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
        </header>

        <!-- Login Section -->
        <div id="loginSection" class="max-w-md mx-auto bg-white rounded-xl shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
            <!-- ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <h3 class="font-bold text-blue-800 mb-2">üîç ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                <div class="text-sm text-blue-700 space-y-1">
                    <p>1. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏î‡πÜ ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏´‡∏±‡∏™: 12345, ‡∏ä‡∏∑‡πà‡∏≠: ‡∏™‡∏°‡∏ä‡∏≤‡∏¢)</p>
                    <p>2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
                    <p>3. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</p>
                    <p>4. <strong>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÉ‡∏ö</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</p>
                </div>
            </div>

            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="studentId" class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                    <input type="text" id="studentId" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="‡πÄ‡∏ä‡πà‡∏ô 12345" required>
                </div>
                <div>
                    <label for="studentName" class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="studentName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ" required>
                </div>
                <div>
                    <label for="classSelect" class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤</label>
                    <select id="classSelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤</option>
                        <option value="math4">‡∏Ñ22102 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå 4 (‡∏°.2)</option>
                        <option value="math6">‡∏Ñ23202 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° 6 (‡∏°.3)</option>
                        <option value="teacher">üéì ‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö)</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 font-medium">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </form>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="hidden fade-in">
            <!-- Teacher Info -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800" id="teacherWelcomeText"></h2>
                        <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                    </div>
                    <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </div>
            </div>

            <!-- Class Selection for Teacher -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition duration-200" onclick="viewClass('math4')">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏Ñ22102 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå 4</h3>
                    <p class="text-gray-600 mb-4">‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2 (130 ‡∏Ñ‡∏ô)</p>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-2xl font-bold text-green-600" id="math4Submitted">1</div>
                            <div class="text-sm text-gray-500">‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-orange-600" id="math4Pending">1</div>
                            <div class="text-sm text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-red-600" id="math4Overdue">1</div>
                            <div class="text-sm text-gray-500">‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition duration-200" onclick="viewClass('math6')">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏Ñ23202 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° 6</h3>
                    <p class="text-gray-600 mb-4">‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3 (170 ‡∏Ñ‡∏ô)</p>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-2xl font-bold text-green-600" id="math6Submitted">1</div>
                            <div class="text-sm text-gray-500">‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-orange-600" id="math6Pending">1</div>
                            <div class="text-sm text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-red-600" id="math6Overdue">1</div>
                            <div class="text-sm text-gray-500">‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button onclick="addNewAssignment()" class="bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition duration-200">
                        <div class="text-2xl mb-2">üìù</div>
                        <div class="font-medium">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</div>
                    </button>
                    <button onclick="viewAllSubmissions()" class="bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition duration-200">
                        <div class="text-2xl mb-2">üìä</div>
                        <div class="font-medium">‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    </button>
                    <button onclick="exportReport()" class="bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition duration-200">
                        <div class="text-2xl mb-2">üìã</div>
                        <div class="font-medium">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard" class="hidden fade-in">
            <!-- Student Info -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800" id="welcomeText"></h2>
                        <p class="text-gray-600" id="classInfo"></p>
                    </div>
                    <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </div>
            </div>

            <!-- Statistics -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6 text-center">
                    <div class="text-3xl font-bold text-green-600" id="submittedCount">0</div>
                    <div class="text-gray-600">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 text-center">
                    <div class="text-3xl font-bold text-orange-600" id="pendingCount">0</div>
                    <div class="text-gray-600">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 text-center">
                    <div class="text-3xl font-bold text-red-600" id="overdueCount">0</div>
                    <div class="text-gray-600">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                </div>
            </div>

            <!-- Assignment List -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</h3>
                    <div class="flex space-x-2">
                        <button onclick="filterAssignments('all')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition duration-200" data-filter="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                        <button onclick="filterAssignments('submitted')" class="filter-btn bg-green-100 text-green-700 px-4 py-2 rounded-lg hover:bg-green-200 transition duration-200" data-filter="submitted">‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</button>
                        <button onclick="filterAssignments('pending')" class="filter-btn bg-orange-100 text-orange-700 px-4 py-2 rounded-lg hover:bg-orange-200 transition duration-200" data-filter="pending">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á</button>
                        <button onclick="filterAssignments('overdue')" class="filter-btn bg-red-100 text-red-700 px-4 py-2 rounded-lg hover:bg-red-200 transition duration-200" data-filter="overdue">‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î</button>
                    </div>
                </div>
                <div id="assignmentList" class="space-y-4"></div>
            </div>
        </div>

        <!-- Assignment Modal -->
        <div id="assignmentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-800" id="modalTitle"></h3>
                        <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                    </div>
                    
                    <div id="modalContent" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</label>
                            <div id="assignmentDescription" class="bg-gray-50 p-4 rounded-lg"></div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô</label>
                            <div id="sampleWork" class="bg-gray-50 p-4 rounded-lg"></div>
                        </div>
                        
                        <div id="submissionSection">
                            <label for="workFile" class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏á‡∏≤‡∏ô (‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)</label>
                            <input type="file" id="workFile" accept="image/*" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4">
                            <div id="imagePreview" class="hidden mb-4">
                                <img id="previewImg" class="max-w-full h-auto rounded-lg border" alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô">
                            </div>
                            <textarea id="workNote" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4" rows="3"></textarea>
                            <button onclick="submitWork()" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-200 font-medium">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</button>
                        </div>
                        
                        <div id="submittedWork" class="hidden">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <h4 class="font-bold text-green-800 mb-2">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</h4>
                                <div id="submittedImage" class="mb-2"></div>
                                <div id="submittedNote" class="text-gray-700"></div>
                                <div id="submittedDate" class="text-sm text-gray-500 mt-2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for assignments
        const assignmentsData = {
            math4: [
                {
                    id: 1,
                    title: "‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡πâ‡∏ô",
                    description: "‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡πÉ‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏´‡∏ô‡πâ‡∏≤ 25-30 ‡∏Ç‡πâ‡∏≠ 1-15",
                    dueDate: "2024-01-20",
                    sampleWork: "‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÅ‡∏Å‡πâ‡∏™‡∏°‡∏Å‡∏≤‡∏£ 2x + 5 = 15 ‡πÇ‡∏î‡∏¢‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô",
                    status: "pending"
                },
                {
                    id: 2,
                    title: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: ‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô",
                    description: "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡πâ‡∏ô 5 ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥",
                    dueDate: "2024-01-15",
                    sampleWork: "‡∏ß‡∏≤‡∏î‡∏Å‡∏£‡∏≤‡∏ü y = 2x + 3 ‡∏ö‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏£‡∏≤‡∏ü ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‡πÅ‡∏Å‡∏ô x ‡πÅ‡∏•‡∏∞ y",
                    status: "submitted",
                    submittedDate: "2024-01-14",
                    submittedNote: "‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö"
                },
                {
                    id: 3,
                    title: "‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏¢‡πà‡∏≠‡∏¢: ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏Å‡∏≤‡∏£",
                    description: "‡πÅ‡∏Å‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡πâ‡∏ô 2 ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 10 ‡∏Ç‡πâ‡∏≠",
                    dueDate: "2024-01-10",
                    sampleWork: "‡πÅ‡∏Å‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏Å‡∏≤‡∏£: x + y = 5, 2x - y = 1",
                    status: "overdue"
                }
            ],
            math6: [
                {
                    id: 4,
                    title: "‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏≠‡∏ô‡∏∏‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô",
                    description: "‡∏´‡∏≤‡∏≠‡∏ô‡∏∏‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏û‡∏´‡∏∏‡∏ô‡∏≤‡∏° 15 ‡∏Ç‡πâ‡∏≠",
                    dueDate: "2024-01-25",
                    sampleWork: "‡∏´‡∏≤ d/dx ‡∏Ç‡∏≠‡∏á f(x) = 3x¬≤ + 2x - 1",
                    status: "pending"
                },
                {
                    id: 5,
                    title: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ‡∏≠‡∏¥‡∏ô‡∏ó‡∏¥‡∏Å‡∏£‡∏±‡∏•",
                    description: "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÄ‡∏™‡πâ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏á 8 ‡∏Ç‡πâ‡∏≠",
                    dueDate: "2024-01-18",
                    sampleWork: "‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÄ‡∏™‡πâ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏á y = x¬≤ ‡∏à‡∏≤‡∏Å x = 0 ‡∏ñ‡∏∂‡∏á x = 2",
                    status: "submitted",
                    submittedDate: "2024-01-17",
                    submittedNote: "‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°"
                }
            ]
        };

        let currentUser = null;
        let currentAssignments = [];
        let currentFilter = 'all';

        // Login functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const studentId = document.getElementById('studentId').value;
            const studentName = document.getElementById('studentName').value;
            const selectedClass = document.getElementById('classSelect').value;
            
            if (studentId && studentName && selectedClass) {
                currentUser = {
                    id: studentId,
                    name: studentName,
                    class: selectedClass
                };
                
                showDashboard();
            }
        });

        function showDashboard() {
            document.getElementById('loginSection').classList.add('hidden');
            
            if (currentUser.class === 'teacher') {
                document.getElementById('teacherDashboard').classList.remove('hidden');
                document.getElementById('teacherWelcomeText').textContent = `‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå${currentUser.name}`;
                updateTeacherStatistics();
            } else {
                document.getElementById('dashboard').classList.remove('hidden');
                
                // Update welcome text
                document.getElementById('welcomeText').textContent = `‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ ${currentUser.name}`;
                const className = currentUser.class === 'math4' ? '‡∏Ñ22102 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå 4 (‡∏°.2)' : '‡∏Ñ23202 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° 6 (‡∏°.3)';
                document.getElementById('classInfo').textContent = className;
                
                // Load assignments
                currentAssignments = assignmentsData[currentUser.class] || [];
                updateStatistics();
                displayAssignments();
            }
        }

        function updateTeacherStatistics() {
            // Update Math 4 statistics
            const math4Assignments = assignmentsData.math4;
            const math4Submitted = math4Assignments.filter(a => a.status === 'submitted').length;
            const math4Pending = math4Assignments.filter(a => a.status === 'pending').length;
            const math4Overdue = math4Assignments.filter(a => a.status === 'overdue').length;
            
            document.getElementById('math4Submitted').textContent = math4Submitted;
            document.getElementById('math4Pending').textContent = math4Pending;
            document.getElementById('math4Overdue').textContent = math4Overdue;
            
            // Update Math 6 statistics
            const math6Assignments = assignmentsData.math6;
            const math6Submitted = math6Assignments.filter(a => a.status === 'submitted').length;
            const math6Pending = math6Assignments.filter(a => a.status === 'pending').length;
            const math6Overdue = math6Assignments.filter(a => a.status === 'overdue').length;
            
            document.getElementById('math6Submitted').textContent = math6Submitted;
            document.getElementById('math6Pending').textContent = math6Pending;
            document.getElementById('math6Overdue').textContent = math6Overdue;
        }

        function viewClass(classType) {
            currentUser.viewingClass = classType;
            currentAssignments = assignmentsData[classType] || [];
            
            // Hide teacher dashboard and show student-like view
            document.getElementById('teacherDashboard').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            
            // Update display for teacher viewing class
            const className = classType === 'math4' ? '‡∏Ñ22102 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå 4 (‡∏°.2)' : '‡∏Ñ23202 ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° 6 (‡∏°.3)';
            document.getElementById('welcomeText').textContent = `‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå${currentUser.name} - ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô`;
            document.getElementById('classInfo').textContent = className;
            
            updateStatistics();
            displayAssignments();
            
            // Add back button
            const backButton = document.createElement('button');
            backButton.className = 'bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-200 mr-2';
            backButton.textContent = '‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏π';
            backButton.onclick = () => {
                document.getElementById('dashboard').classList.add('hidden');
                document.getElementById('teacherDashboard').classList.remove('hidden');
                backButton.remove();
            };
            
            const headerDiv = document.querySelector('#dashboard .bg-white .flex');
            headerDiv.insertBefore(backButton, headerDiv.lastElementChild);
        }

        function addNewAssignment() {
            showToast('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function viewAllSubmissions() {
            showToast('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function exportReport() {
            showToast('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function updateStatistics() {
            const submitted = currentAssignments.filter(a => a.status === 'submitted').length;
            const pending = currentAssignments.filter(a => a.status === 'pending').length;
            const overdue = currentAssignments.filter(a => a.status === 'overdue').length;
            
            document.getElementById('submittedCount').textContent = submitted;
            document.getElementById('pendingCount').textContent = pending;
            document.getElementById('overdueCount').textContent = overdue;
        }

        function displayAssignments() {
            const container = document.getElementById('assignmentList');
            container.innerHTML = '';
            
            let filteredAssignments = currentAssignments;
            if (currentFilter !== 'all') {
                filteredAssignments = currentAssignments.filter(a => a.status === currentFilter);
            }
            
            filteredAssignments.forEach(assignment => {
                const card = createAssignmentCard(assignment);
                container.appendChild(card);
            });
        }

        function createAssignmentCard(assignment) {
            const card = document.createElement('div');
            card.className = 'assignment-card bg-gray-50 rounded-lg p-4 border-l-4 cursor-pointer';
            
            let statusClass = '';
            let statusText = '';
            let borderClass = '';
            
            switch(assignment.status) {
                case 'submitted':
                    statusClass = 'status-submitted text-white';
                    statusText = '‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß';
                    borderClass = 'border-green-500';
                    break;
                case 'pending':
                    statusClass = 'status-pending text-white';
                    statusText = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á';
                    borderClass = 'border-orange-500';
                    break;
                case 'overdue':
                    statusClass = 'status-overdue text-white';
                    statusText = '‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î';
                    borderClass = 'border-red-500';
                    break;
            }
            
            card.className += ` ${borderClass}`;
            
            card.innerHTML = `
                <div class="flex justify-between items-start">
                    <div class="flex-1">
                        <h4 class="font-bold text-gray-800 mb-2">${assignment.title}</h4>
                        <p class="text-gray-600 text-sm mb-2">${assignment.description}</p>
                        <p class="text-sm text-gray-500">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á: ${formatDate(assignment.dueDate)}</p>
                        <p class="text-xs text-blue-600 mt-2 font-medium">üëÜ ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</p>
                    </div>
                    <div class="ml-4 flex flex-col items-end">
                        <span class="px-3 py-1 rounded-full text-sm font-medium ${statusClass} mb-2">${statusText}</span>
                        <div class="text-2xl text-gray-400">üìã</div>
                    </div>
                </div>
            `;
            
            card.addEventListener('click', () => openAssignmentModal(assignment));
            
            return card;
        }

        function openAssignmentModal(assignment) {
            document.getElementById('modalTitle').textContent = assignment.title;
            document.getElementById('assignmentDescription').textContent = assignment.description;
            document.getElementById('sampleWork').textContent = assignment.sampleWork;
            
            const submissionSection = document.getElementById('submissionSection');
            const submittedWork = document.getElementById('submittedWork');
            
            if (assignment.status === 'submitted') {
                submissionSection.classList.add('hidden');
                submittedWork.classList.remove('hidden');
                
                document.getElementById('submittedNote').textContent = assignment.submittedNote || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏';
                document.getElementById('submittedDate').textContent = `‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠: ${formatDate(assignment.submittedDate)}`;
                
                // Show submitted image placeholder
                document.getElementById('submittedImage').innerHTML = '<div class="bg-gray-200 h-32 rounded-lg flex items-center justify-center text-gray-500">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á</div>';
            } else {
                submissionSection.classList.remove('hidden');
                submittedWork.classList.add('hidden');
            }
            
            document.getElementById('assignmentModal').classList.remove('hidden');
            document.getElementById('assignmentModal').classList.add('flex');
            
            // Store current assignment for submission
            window.currentAssignment = assignment;
        }

        function closeModal() {
            document.getElementById('assignmentModal').classList.add('hidden');
            document.getElementById('assignmentModal').classList.remove('flex');
            
            // Reset form
            document.getElementById('workFile').value = '';
            document.getElementById('workNote').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
        }

        // File preview functionality
        document.getElementById('workFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImg').src = e.target.result;
                    document.getElementById('imagePreview').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        function submitWork() {
            const file = document.getElementById('workFile').files[0];
            const note = document.getElementById('workNote').value;
            
            if (!file) {
                showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', 'error');
                return;
            }
            
            // Update assignment status
            window.currentAssignment.status = 'submitted';
            window.currentAssignment.submittedDate = new Date().toISOString().split('T')[0];
            window.currentAssignment.submittedNote = note;
            
            // Update display
            updateStatistics();
            displayAssignments();
            closeModal();
            
            // Show success message
            showToast('‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!', 'success');
        }

        function filterAssignments(filter) {
            currentFilter = filter;
            
            // Update button styles
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            const activeBtn = document.querySelector(`[data-filter="${filter}"]`);
            activeBtn.classList.remove('bg-gray-200', 'text-gray-700');
            activeBtn.classList.add('bg-blue-500', 'text-white');
            
            displayAssignments();
        }

        function logout() {
            currentUser = null;
            currentAssignments = [];
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('teacherDashboard').classList.add('hidden');
            document.getElementById('loginSection').classList.remove('hidden');
            
            // Reset form
            document.getElementById('loginForm').reset();
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('th-TH', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            let bgColor = 'bg-red-500';
            if (type === 'success') bgColor = 'bg-green-500';
            if (type === 'info') bgColor = 'bg-blue-500';
            
            toast.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white z-50 ${bgColor}`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Initialize filter
        filterAssignments('all');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9937da6661c4ee2d',t:'MTc2MTI5MTkxMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
